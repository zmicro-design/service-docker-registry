export SERVICE_DOCKER_REGISTRY_NAME=docker-registry

export SERVICE_DOCKER_REGISTRY_VERSION=2.7.1
export SERVICE_DOCKER_REGISTRY_CONFIG=$SERVICE_CONFIG

export SERVICE_DOCKER_REGISTRY_DOMAIN=
export SERVICE_DOCKER_REGISTRY_DOREAMON_CLIENT_ID=
export SERVICE_DOCKER_REGISTRY_DOREAMON_CLIENT_SECRET=
export SERVICE_DOCKER_REGISTRY_DOREAMON_ALLOW_USERNAMES=

export SERVICE_DOCKER_REGISTRY_ADMIN_USERNAME=
export SERVICE_DOCKER_REGISTRY_ADMIN_PASSWORD=

export SERVICE_DOCKER_REGISTRY_ALY_OSS_ACCESS_KEY=
export SERVICE_DOCKER_REGISTRY_ALY_OSS_ACCESS_SECRET=
export SERVICE_DOCKER_REGISTRY_ALY_OSS_REGION=
export SERVICE_DOCKER_REGISTRY_ALY_OSS_BUCKET=

export SERVICE_DOCKER_REGISTRY_MIRROR_CONFIG=${SERVICE_CONFIGS}/mirror.yml
export SERVICE_DOCKER_REGISTRY_HTPASSWD_CONFIG=${SERVICE_CONFIGS}/htpasswd

if [ ! -f $SERVICE_DOCKER_REGISTRY_MIRROR_CONFIG ]; then
   cp $SERVICE_DIR/conf/mirror.yml $SERVICE_DOCKER_REGISTRY_MIRROR_CONFIG
fi

if [ ! -f $SERVICE_DOCKER_REGISTRY_HTPASSWD_CONFIG ]; then
   cp $SERVICE_DIR/conf/htpasswd $SERVICE_DOCKER_REGISTRY_HTPASSWD_CONFIG
fi
